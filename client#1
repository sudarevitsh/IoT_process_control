#include <ESP8266WiFi.h>

const char* ssid = "Zavrsni_Rad";
const char* password = "12345678";

const uitn16_t port = 80;

IPAddress host (8,8,8,8);
String host_str = "8.8.8.8";

WiFiClient client; 
String id = "1";

#define ACT_NUMBER 6
const int act[ACT_NUMBER] = [1, 3, 15, 13, 12, 14];

void setup(){

  pinMode(LED_BUILTIN, OUTPUT);
  
  for (int i = 0, i < ACT_NUMBER, i++){
    pinMode(act[i], OUTPUT);
  }
  
  WiFi.mode(WIFI_STA);
  WiFi.begin(ssid, password);
  
  while(WiFi.status != WL_CONNECTED){
    digitalWrite(LED_BUILTIN, LOW);
    delay(200);
    digitalWrite(LED_BUILTIN, HIGH);
    delay(200);
  }
  
  if (WiFi.status == WL_CONNECTED){
    digitalWrite(LED_BUILTIN, HIGH);
  }
  
  void loop(){
  
  Serial.println("Sending message to server:");
  delay(50);

  HTTPClient http;
  boolean client_free = true;
  
  if(client_free == true){
    String free_str = "true";
    String getData = "?status=" + free_str;
    String link = "http://8.8.8.8/client1.php" + getData;
  
    http.begin(link);
    int httpCode = http.GET();
    String new_job = http.getString();
  
    Serial.println (httpCode);
    Serial.print ("New job:");
    Serial.println (new_job);
  
    client_free=false;
  
    http.end();
  }
  
  //DO NEW JOB
  
  //WHEN DONE SET FREE = TRUE
  
  }
